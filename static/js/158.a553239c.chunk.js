"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[158],{9315:function(e,t,n){n.d(t,{CL:function(){return x},Mc:function(){return g},Uf:function(){return o},k1:function(){return d},on:function(){return Z},tP:function(){return p},wH:function(){return w}});var r=n(5861),a=n(4687),u=n.n(a),c=n(4569),s=n.n(c);s().defaults.baseURL="https://api.themoviedb.org/3/";var i="6d25a4756e0ff1ccca3eba13a74efa5c",o="https://image.tmdb.org/t/p/w300",p="https://image.tmdb.org/t/p/w200",f="movie",l="day",h="en-US";function d(e){return m.apply(this,arguments)}function m(){return(m=(0,r.Z)(u().mark((function e(t){var n,r,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.page,r=new URLSearchParams({api_key:i,page:n,language:h}),e.next=4,s().get("trending/".concat(f,"/").concat(l,"?").concat(r));case 4:return a=e.sent,e.abrupt("return",a.data);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e){return v.apply(this,arguments)}function v(){return(v=(0,r.Z)(u().mark((function e(t){var n,r,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.movieId,r=new URLSearchParams({api_key:i,language:h}),e.next=4,s().get("".concat(f,"/").concat(n,"?").concat(r));case 4:return a=e.sent,e.abrupt("return",a.data);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e){return y.apply(this,arguments)}function y(){return(y=(0,r.Z)(u().mark((function e(t){var n,r,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.movieId,r=new URLSearchParams({api_key:i,language:h}),e.next=4,s().get("".concat(f,"/").concat(n,"/credits?").concat(r));case 4:return a=e.sent,e.abrupt("return",a.data);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e){return E.apply(this,arguments)}function E(){return(E=(0,r.Z)(u().mark((function e(t){var n,r,a,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.movieId,r=t.page,a=new URLSearchParams({api_key:i,page:r,language:h}),e.next=4,s().get("".concat(f,"/").concat(n,"/reviews?").concat(a));case 4:return c=e.sent,e.abrupt("return",c.data);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(e){return b.apply(this,arguments)}function b(){return(b=(0,r.Z)(u().mark((function e(t){var n,r,a,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.query,r=t.page,a=new URLSearchParams({api_key:i,page:r,query:n,language:h}),e.next=4,s().get("search/".concat(f,"?").concat(a));case 4:return c=e.sent,e.abrupt("return",c.data);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},2961:function(e,t,n){n.d(t,{Z:function(){return c}});var r=n(2007),a=n.n(r),u=n(184);function c(e){var t=e.error;return(0,u.jsx)(u.Fragment,{children:t})}c.propTypes={error:a().string.isRequired}},7115:function(e,t,n){n.d(t,{Z:function(){return p}});var r,a=n(501),u=n(6871),c=n(184),s=function(e){var t=e.title,n=e.id,r=(0,u.TH)();return(0,c.jsx)(a.rU,{to:"/movies/".concat(n),state:{from:r},children:t})},i=n(168),o=n(6088).Z.ul(r||(r=(0,i.Z)(["\n  margin-left: ","px;\n"])),(function(e){return e.theme.space[5]})),p=function(e){var t=e.moviesData;return(0,c.jsx)(o,{children:0!==t.length&&t.map((function(e){var t=e.id,n=e.title;return(0,c.jsx)("li",{children:(0,c.jsx)(s,{title:n,id:t})},t)}))})}},680:function(e,t,n){n.d(t,{s:function(){return r}});var r={IDLE:"idle",PENDING:"pending",RESOLVED:"resolved",REJECTED:"rejected"}},7158:function(e,t,n){n.r(t),n.d(t,{default:function(){return b}});var r,a,u=n(5861),c=n(885),s=n(4687),i=n.n(s),o=n(7115),p=n(2961),f=n(6366),l=n(883),h=n(9315),d=n(2791),m=n(501),g=n(680),v=n(6066),x=n(168),y=n(6088),w=y.Z.form(r||(r=(0,x.Z)(["\n  padding-top: ","px;\n  margin-bottom: ","px;\n"])),(function(e){return e.theme.space[3]}),(function(e){return e.theme.space[4]})),E=y.Z.input(a||(a=(0,x.Z)(["\n  width: 350px;\n"]))),Z=n(184),b=function(){var e,t=(0,d.useState)([]),n=(0,c.Z)(t,2),r=n[0],a=n[1],s=(0,d.useState)(g.s.IDLE),x=(0,c.Z)(s,2),y=x[0],b=x[1],k=(0,d.useState)(""),S=(0,c.Z)(k,2),D=S[0],_=S[1],j=(0,m.lr)(),L=(0,c.Z)(j,2),R=L[0],P=L[1],q=null!==(e=R.get("query"))&&void 0!==e?e:"";(0,d.useEffect)((function(){var e=function(){var e=(0,u.Z)(i().mark((function e(){var t,n,r,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=g.s.PENDING,n=g.s.RESOLVED,r=g.s.REJECTED,!(q.length<3)){e.next=3;break}return e.abrupt("return");case 3:return b(t),e.prev=4,e.next=7,(0,h.on)({query:q,page:1});case 7:u=e.sent,b(n),a(u.results),u.total_results||(v.Am.info("Sorry, there are no movies matching your search query. Please try again."),P()),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(4),b(r),_(e.t0.message);case 17:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(){return e.apply(this,arguments)}}();e()}),[q,_,b,P]);var U=g.s.PENDING,I=g.s.RESOLVED,C=g.s.REJECTED;return(0,Z.jsxs)(l.x,{ml:2,mt:6,children:[(0,Z.jsxs)(w,{onSubmit:function(e){e.preventDefault();var t=e.currentTarget.elements.query.value.trim().toLowerCase();t.length>2?P({query:t}):(v.Am.warning("Few characters to search"),P())},children:[(0,Z.jsx)(E,{type:"text",name:"query",defaultValue:q}),(0,Z.jsx)("button",{type:"submit",disabled:y===U,children:"Search"})]}),y===U&&(0,Z.jsx)(f.Z,{}),y===C&&(0,Z.jsx)(p.Z,{error:D}),y===I&&(0,Z.jsx)(o.Z,{moviesData:r})]})}}}]);
//# sourceMappingURL=158.a553239c.chunk.js.map