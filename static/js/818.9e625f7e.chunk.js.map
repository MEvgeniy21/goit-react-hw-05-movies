{"version":3,"file":"static/js/818.9e625f7e.chunk.js","mappings":"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","sources":["api/fetchTheMovieDB.js","components/Error/Error.jsx","components/Subtitle/Subtitle.styled.js","components/Subtitle/Subtitle.jsx","components/BackLink/BackLink.styled.js","components/BackLink/BackLink.jsx","components/MovieDetails/MovieDetails.styled.js","components/MovieDetails/MovieDetails.jsx","components/Title/Title.styled.js","components/Title/Title.jsx","constants/statusList.js"],"sourcesContent":["import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/';\n\nconst api_key = '6d25a4756e0ff1ccca3eba13a74efa5c';\n\nexport const IMG_PATH_W300 = 'https://image.tmdb.org/t/p/w300';\nexport const IMG_PATH_W200 = 'https://image.tmdb.org/t/p/w200';\n\nconst mediaType = {\n  ALL: 'all',\n  MOVIE: 'movie',\n  TV: 'tv',\n  PERSON: 'person',\n};\nconst trendTime = {\n  DAY: 'day',\n  WEEK: 'week',\n};\nconst language = {\n  ENGLISH: 'en-US',\n  UKRAINIAN: 'uk-UA',\n};\n\nexport async function fetchTrend({ page }) {\n  const searchParams = new URLSearchParams({\n    api_key,\n    page,\n    language: language.ENGLISH,\n  });\n  const response = await axios.get(\n    `trending/${mediaType.MOVIE}/${trendTime.DAY}?${searchParams}`\n  );\n  return response.data;\n}\n\nexport async function fetchMovieById({ movieId }) {\n  const options = new URLSearchParams({\n    api_key,\n    language: language.ENGLISH,\n  });\n  const response = await axios.get(`${mediaType.MOVIE}/${movieId}?${options}`);\n  return response.data;\n}\n\nexport async function fetchCreditsById({ movieId }) {\n  const options = new URLSearchParams({\n    api_key,\n    language: language.ENGLISH,\n  });\n  const response = await axios.get(\n    `${mediaType.MOVIE}/${movieId}/credits?${options}`\n  );\n  return response.data;\n}\n\nexport async function fetchReviewsById({ movieId, page }) {\n  const options = new URLSearchParams({\n    api_key,\n    page,\n    language: language.ENGLISH,\n  });\n  const response = await axios.get(\n    `${mediaType.MOVIE}/${movieId}/reviews?${options}`\n  );\n  return response.data;\n}\n\nexport async function fetchSearch({ query, page }) {\n  const options = new URLSearchParams({\n    api_key,\n    page,\n    query,\n    language: language.ENGLISH,\n  });\n  const response = await axios.get(`search/${mediaType.MOVIE}?${options}`);\n  return response.data;\n}\n","import PropTypes from 'prop-types';\n\nexport default function Error({ error }) {\n  return <>{error}</>;\n}\n\nError.propTypes = {\n  error: PropTypes.string.isRequired,\n};\n","import styled from '@emotion/styled';\n\nexport const H2 = styled.h2`\n  line-height: ${p => p.theme.fontSizes.xm};\n  font-weight: ${p => p.theme.fontWeights.medium};\n`;\n","import PropTypes from 'prop-types';\nimport * as SC from './Subtitle.styled';\n\nconst Subtitle = ({ children }) => {\n  return <SC.H2>{children}</SC.H2>;\n};\n\nexport default Subtitle;\n\nSubtitle.propTypes = {\n  children: PropTypes.any.isRequired,\n};","import styled from '@emotion/styled';\nimport { Link } from 'react-router-dom';\n\nexport const BtnLink = styled(Link)`\n  display: inline-block;\n  padding: ${p => p.theme.space[2]}px;\n  border: ${p => p.theme.borders.normal} ${p => p.theme.colors.border};\n  border-radius: ${p => p.theme.radii.sm};\n  color: ${p => p.theme.colors.black};\n  text-decoration: none;\n  cursor: pointer;\n\n  &:hover,\n  &:focus {\n    background-color: ${p => p.theme.colors.accent};\n  }\n`;\n","import PropTypes from 'prop-types';\nimport * as SC from './BackLink.styled';\n\nconst BackLink = ({ to, children }) => {\n  return (\n    <SC.BtnLink to={to}>\n      &larr;\n      {children}\n    </SC.BtnLink>\n  );\n};\n\nexport default BackLink;\n\nBackLink.propTypes = {\n  children: PropTypes.any.isRequired,\n  to: PropTypes.object.isRequired,\n};\n","import styled from '@emotion/styled';\n\nexport const Img = styled.img`\n  width: 240px;\n  height: 357px;\n  object-fit: cover;\n`;\n\nexport const Info = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: ${p => p.theme.space[4]}px;\n  padding-top: ${p => p.theme.space[4]}px;\n  padding-bottom: ${p => p.theme.space[4]}px;\n  border-top: ${p => p.theme.borders.normal} ${p => p.theme.colors.border};\n  border-bottom: ${p => p.theme.borders.normal} ${p => p.theme.colors.border};\n`;\n\nexport const List = styled.ul`\n  margin-left: ${p => p.theme.space[5]}px;\n`;\n","import Title from 'components/Title';\nimport Subtitle from 'components/Subtitle';\nimport BackLink from 'components/BackLink';\nimport Error from 'components/Error';\nimport Loader from 'components/Loader';\nimport { Box } from 'common/Box';\nimport { Suspense } from 'react';\nimport { Outlet, Link, useParams, useLocation } from 'react-router-dom';\nimport { fetchMovieById, IMG_PATH_W300 } from 'api/fetchTheMovieDB';\nimport { useState, useEffect } from 'react';\nimport { statusList } from 'constants';\nimport * as SC from './MovieDetails.styled';\n\nconst infoItems = [\n  { href: 'cast', text: 'Cast' },\n  { href: 'reviews', text: 'Reviews' },\n];\n\nconst MovieDetails = () => {\n  const { movieId } = useParams();\n\n  const [movieDataById, setMovieDataById] = useState(null);\n  const [status, setStatus] = useState(statusList.IDLE);\n  const [error, setError] = useState('');\n\n  const location = useLocation();\n  const backLinkHref = location.state?.from ?? '/';\n\n  useEffect(() => {\n    const getMoviesById = async () => {\n      const { PENDING, RESOLVED, REJECTED } = statusList;\n\n      setStatus(PENDING);\n\n      try {\n        const data = await fetchMovieById({ movieId });\n        setStatus(RESOLVED);\n        setMovieDataById(data);\n      } catch (error) {\n        setStatus(REJECTED);\n        setError(error.message);\n      }\n    };\n\n    getMoviesById();\n  }, [movieId, setError, setStatus]);\n\n  if (!movieDataById) {\n    return null;\n  }\n  const { title, genres, overview, release_date, poster_path, vote_average } =\n    movieDataById;\n\n  const dateMovie = new Date(release_date);\n  const posterPath = poster_path\n    ? IMG_PATH_W300 + poster_path\n    : 'https://dummyimage.com/240x357/f5f5f5/a6a6a6.jpg&text=No+poster';\n  const titleMovie = dateMovie\n    ? `${title} (${dateMovie.getFullYear()})`\n    : title;\n  const userScore = Math.trunc(vote_average * 10);\n  const genresMovie = genres.reduce(\n    (accum, genre) => `${accum} ${genre.name}`,\n    ''\n  );\n\n  if (status === statusList.PENDING) {\n    return <Loader />;\n  }\n  if (status === statusList.REJECTED) {\n    return <Error error={error} />;\n  }\n  if (status === statusList.RESOLVED) {\n    return (\n      <>\n        <BackLink to={backLinkHref}>Go back</BackLink>\n        <Box display=\"flex\" gridGap={4} pb={3} mt={2}>\n          <SC.Img src={posterPath} alt={title} width=\"240\" height=\"357\" />\n          <Box display=\"flex\" flexDirection=\"column\" gridGap={5} pt={4}>\n            <Title>{titleMovie}</Title>\n            <p>User score: {userScore}%</p>\n            <Subtitle>Overview</Subtitle>\n            <p>{overview}</p>\n            <Subtitle>Genres</Subtitle>\n            <p>{genresMovie}</p>\n          </Box>\n        </Box>\n        <SC.Info>\n          <p>Additional information</p>\n          <SC.List>\n            {infoItems.map(({ href, text }) => (\n              <li key={href}>\n                <Link to={href} state={{ from: backLinkHref }}>\n                  {text}\n                </Link>\n              </li>\n            ))}\n          </SC.List>\n        </SC.Info>\n        <Suspense fallback={<Loader />}>\n          <Outlet />\n        </Suspense>\n      </>\n    );\n  }\n};\n\nexport default MovieDetails;\n","import styled from '@emotion/styled';\n\nexport const H1 = styled.h1`\n  line-height: ${p => p.theme.fontSizes.l};\n  font-weight: ${p => p.theme.fontWeights.medium};\n`;\n","import PropTypes from 'prop-types';\nimport * as SC from './Title.styled';\n\nconst Title = ({ children }) => {\n  return <SC.H1>{children}</SC.H1>;\n};\n\nexport default Title;\n\nTitle.propTypes = {\n  children: PropTypes.any.isRequired,\n};\n","export const statusList = {\n  IDLE: 'idle',\n  PENDING: 'pending',\n  RESOLVED: 'resolved',\n  REJECTED: 'rejected',\n};\n"],"names":["axios","api_key","IMG_PATH_W300","IMG_PATH_W200","mediaType","trendTime","language","fetchTrend","page","searchParams","URLSearchParams","response","data","fetchMovieById","movieId","options","fetchCreditsById","fetchReviewsById","fetchSearch","query","Error","error","propTypes","PropTypes","H2","styled","p","theme","fontSizes","xm","fontWeights","medium","children","BtnLink","Link","space","borders","normal","colors","border","radii","sm","black","accent","to","Img","Info","List","infoItems","href","text","useParams","useState","movieDataById","setMovieDataById","statusList","status","setStatus","setError","backLinkHref","useLocation","state","from","useEffect","getMoviesById","PENDING","RESOLVED","REJECTED","message","title","genres","overview","release_date","poster_path","vote_average","dateMovie","Date","posterPath","titleMovie","getFullYear","userScore","Math","trunc","genresMovie","reduce","accum","genre","name","Loader","Box","display","gridGap","pb","mt","src","alt","width","height","flexDirection","pt","Title","map","Suspense","fallback","H1","l","IDLE"],"sourceRoot":""}